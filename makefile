ASSETS=\
	DSLOT000.DAT\
	DSLOT001.DAT\
	DSLOT002.DAT\
	GSLOT000.CHR\
	GSLOT255.CHR\
	ESLOT000.PCM\
	ESLOT001.PCM\
	ESLOT002.PCM\
	BSLOT000.BGM\
	BSLOT001.BGM\
	BSLOT002.BGM\
	BSLOT003.BGM\
	BSLOT004.BGM\
	BSLOT005.BGM\
	BSLOT006.BGM\
	BSLOT007.BGM\
	BSLOT008.BGM\
	BSLOT009.BGM\
	BSLOT010.BGM\
	BSLOT011.BGM\
	BSLOT012.BGM\
	BSLOT013.BGM\
	BSLOT014.BGM\
	BSLOT015.BGM\
	BSLOT016.BGM\
	BSLOT017.BGM\
	BSLOT018.BGM\
	BSLOT019.BGM\
	BSLOT020.BGM\
	BSLOT021.BGM\
	BSLOT022.BGM\
	BSLOT023.BGM\
	BSLOT024.BGM\
	BSLOT025.BGM\
	BSLOT026.BGM\
	BSLOT027.BGM\
	BSLOT028.BGM\
	BSLOT029.BGM\
	BSLOT030.BGM\
	BSLOT031.BGM\
	BSLOT032.BGM\
	BSLOT033.BGM\
	BSLOT034.BGM\
	BSLOT035.BGM\
	BSLOT036.BGM\
	BSLOT037.BGM\
	BSLOT038.BGM\
	BSLOT039.BGM\
	BSLOT040.BGM\
	BSLOT041.BGM\
	BSLOT042.BGM\
	BSLOT043.BGM\
	BSLOT044.BGM\
	BSLOT045.BGM\
	BSLOT046.BGM\
	BSLOT047.BGM\
	BSLOT048.BGM\
	BSLOT049.BGM\
	BSLOT050.BGM\
	BSLOT051.BGM\
	BSLOT052.BGM\
	BSLOT053.BGM\
	BSLOT054.BGM\
	BSLOT055.BGM\
	BSLOT056.BGM\
	BSLOT057.BGM\
	BSLOT058.BGM\
	BSLOT059.BGM\
	BSLOT060.BGM\
	BSLOT061.BGM\
	BSLOT062.BGM\
	BSLOT063.BGM\
	BSLOT064.BGM\
	BSLOT065.BGM\
	BSLOT066.BGM\
	BSLOT067.BGM\
	BSLOT068.BGM\
	BSLOT069.BGM\
	BSLOT070.BGM\
	BSLOT071.BGM\
	BSLOT072.BGM\
	BSLOT073.BGM\
	BSLOT074.BGM\
	BSLOT075.BGM\
	BSLOT076.BGM\
	BSLOT077.BGM\
	BSLOT078.BGM\
	BSLOT079.BGM\
	BSLOT080.BGM\
	BSLOT081.BGM\
	BSLOT082.BGM\
	BSLOT083.BGM\
	BSLOT084.BGM\
	BSLOT085.BGM\
	BSLOT086.BGM\
	BSLOT087.BGM\
	BSLOT088.BGM\
	BSLOT089.BGM\
	BSLOT090.BGM\
	BSLOT091.BGM\
	BSLOT092.BGM\
	BSLOT093.BGM\
	BSLOT094.BGM\
	BSLOT095.BGM\
	BSLOT096.BGM\
	BSLOT097.BGM\
	BSLOT098.BGM\
	BSLOT099.BGM\
	BSLOT100.BGM

all: mklist mklist2 mkmeta romdata.bin 

build: $(ASSETS)

clean:
	rm -f mklist mklist2 mkmeta
	rm -f $(ASSETS)
	rm -f *.meta
	rm -f *.vgs
	rm -f *.vgspack

mklist: mklist.c
	gcc -o mklist mklist.c

mklist2: mklist2.c
	gcc -o mklist2 mklist2.c

mkmeta: mkmeta.c
	gcc -o mkmeta mkmeta.c

.SUFFIXES: .bmp .CHR
.bmp.CHR:
	vgsbmp $< $@

.SUFFIXES: .wav .PCM
.wav.PCM:
	vgs2wav $< $@

.SUFFIXES: .mml .BGM
.mml.BGM:
	vgs2mml $< $@
	./mkmeta $<
	vgs2pack $<

romdata.bin: $(ASSETS)
	vgs2rom ./ romdata.bin 

DSLOT000.DAT: songlist.txt
	iconv -f UTF-8 -t SJIS < songlist.txt > songlist.txt.sjis
	./mklist songlist.txt.sjis DSLOT000.DAT

DSLOT001.DAT: songlist_en.txt
	iconv -f UTF-8 -t SJIS < songlist_en.txt > songlist_en.txt.sjis
	./mklist songlist_en.txt.sjis DSLOT001.DAT

DSLOT002.DAT: titlelist.txt
	iconv -f UTF-8 -t SJIS < titlelist.txt > titlelist.txt.sjis
	./mklist2 titlelist.txt.sjis DSLOT002.DAT

